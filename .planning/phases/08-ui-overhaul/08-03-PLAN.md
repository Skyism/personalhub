---
phase: 08-ui-overhaul
plan: 03
type: execute
---

<objective>
Apply atmospheric mesh gradient backgrounds, refactor remaining components (forms, navigation, analytics), and polish visual details for cohesive distinctive design.

Purpose: Complete UI transformation with layered backgrounds, consistent component styling, and final polish across all finance module pages.
Output: Mesh gradient backgrounds, all forms using shadcn/ui, bottom navigation styled with semantic tokens, analytics charts with animated reveals, full Tokyo Night aesthetic across all views.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-ui-overhaul/DISCOVERY.md
@.planning/phases/08-ui-overhaul/08-01-SUMMARY.md
@.planning/phases/08-ui-overhaul/08-02-SUMMARY.md
@app/finance/components/BottomNav.tsx
@app/finance/budgets/new/page.tsx
@app/finance/budgets/[id]/TransactionForm.tsx
@app/finance/analytics/AnalyticsCharts.tsx
@app/globals.css

**Tech stack available:**
- Switzer + JetBrains Mono fonts (from 08-01)
- Tokyo Night OKLCH palette (from 08-01)
- shadcn/ui Button and Card (from 08-02)
- Motion animations (from 08-02)
- CSS variables for all design tokens

**Established patterns:**
- Cards using bg-muted with border-border
- Motion staggered lists and hover effects
- Semantic color tokens (primary, accent, muted)
- Mobile-first layouts with 44px touch targets

**From DISCOVERY.md:**
- Mesh gradients: 3-4 layered radial gradients in OKLCH
- Animate charts with scale + opacity
- Keep backgrounds subtle (don't distract from content)
- SVG patterns at 0.03 opacity (optional)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add mesh gradient background and refactor remaining forms</name>
  <files>app/globals.css, app/finance/budgets/new/page.tsx, app/finance/budgets/[id]/TransactionForm.tsx, app/finance/categories/CreateCategoryForm.tsx</files>
  <action>
    **Add mesh gradient to app/globals.css:**

    Update body background with layered radial gradients:
    ```css
    body {
      background:
        radial-gradient(circle at 20% 50%, oklch(18% 0.03 280 / 0.3), transparent 50%),
        radial-gradient(circle at 80% 20%, oklch(16% 0.03 195 / 0.2), transparent 50%),
        radial-gradient(circle at 40% 80%, oklch(17% 0.03 300 / 0.25), transparent 50%),
        var(--background);
      color: var(--foreground);
      font-family: var(--font-sans), system-ui, sans-serif;
    }
    ```

    This creates atmospheric depth with purple/cyan gradients matching Tokyo Night.

    **Refactor app/finance/budgets/new/page.tsx (budget creation form):**
    1. Import Button from @/components/ui/button
    2. Import Card, CardHeader, CardTitle, CardContent from @/components/ui/card
    3. Import Input from shadcn/ui: `npx shadcn@latest add input` (run this first)
    4. Wrap form in Card component with bg-muted/50 backdrop-blur-sm
    5. Replace all bg-white → bg-muted
    6. Replace text-gray-* → text-foreground/text-muted-foreground
    7. Replace blue-600 button → Button variant="default" (uses bg-primary)
    8. Replace input borders → use Input component with border-input
    9. Keep inputMode="decimal" and autoComplete attributes from Phase 7

    **Refactor app/finance/budgets/[id]/TransactionForm.tsx:**
    1. Import Button and Input components
    2. Replace "Add Transaction" button → Button variant="default"
    3. Replace input fields → Input components
    4. Update disabled styling to use opacity-60 and bg-muted
    5. Replace bg-white → bg-muted/50
    6. Keep all Phase 7 mobile optimizations (inputMode, autoComplete, focus management)

    **Refactor app/finance/categories/CreateCategoryForm.tsx:**
    1. Import Button and Input components
    2. Replace form inputs → Input components
    3. Replace "Create Category" button → Button variant="default"
    4. Keep color picker button styling (custom component)
    5. Update text colors → text-foreground/text-muted-foreground

    **Avoid:**
    - Removing Phase 7 mobile optimizations (inputMode, autoComplete, focus)
    - Breaking Server Actions (keep all action handlers unchanged)
    - Over-bright gradients (keep opacity ≤ 0.3)
  </action>
  <verify>npm run dev, check background has subtle purple/cyan glow, visit budget creation form and transaction form - all inputs use shadcn/ui Input, buttons use Button component, forms still submit correctly</verify>
  <done>Mesh gradient background applied, all forms use shadcn/ui components, semantic tokens throughout, mobile functionality preserved, no console errors</done>
</task>

<task type="auto">
  <name>Task 2: Polish navigation and analytics with animations</name>
  <files>app/finance/components/BottomNav.tsx, app/finance/analytics/AnalyticsCharts.tsx</files>
  <action>
    **Update app/finance/components/BottomNav.tsx:**
    1. Replace bg-white → bg-muted/90 backdrop-blur-md (frosted glass effect)
    2. Replace border-gray-200 → border-border
    3. Replace text-gray-600 → text-muted-foreground
    4. Replace text-blue-600 (active) → text-primary
    5. Add subtle hover effect: import motion, wrap each button in motion.button with whileTap={{ scale: 0.95 }}
    6. Keep 44px touch targets and aria-label from Phase 7
    7. Update shadow: shadow-lg shadow-background/10

    **Update app/finance/analytics/AnalyticsCharts.tsx:**
    1. Make this a Client Component (add 'use client')
    2. Import { motion } from 'motion/react'
    3. Wrap each chart section (CategoryBreakdown, SpendingTrends, etc.) in motion.div:
       - initial={{ scale: 0.95, opacity: 0 }}
       - animate={{ scale: 1, opacity: 1 }}
       - transition={{ duration: 0.4, ease: 'easeOut', delay: index * 0.1 }}
    4. Update chart container backgrounds:
       - Replace bg-white → bg-muted/50 backdrop-blur-sm
       - Add border-border
    5. Update Recharts colors to use CSS variables:
       - Replace hardcoded colors in Bar/Line components → fill="var(--accent)"
       - Update XAxis/YAxis stroke → stroke="var(--muted-foreground)"
       - Update CartesianGrid strokeDasharray → stroke="var(--border)"
    6. Wrap chart section titles in motion.h2 with stagger delay

    **Preserve functionality:**
    - Keep all chart data calculations unchanged
    - Keep BudgetSelector working (dropdown for selecting budget)
    - Maintain Recharts responsiveness
    - Keep error boundaries and loading states from Phase 7

    **Avoid:**
    - Animating every chart data point (too busy)
    - Changing chart calculations or data structure
    - Breaking responsive chart sizing
  </action>
  <verify>npm run dev, visit /finance (BottomNav shows frosted glass effect, buttons have tap animations), visit /finance/analytics (charts stagger-fade-in, use Tokyo Night colors, no animation jank), toggle between budgets in BudgetSelector still works</verify>
  <done>BottomNav uses frosted glass design with semantic tokens, analytics charts animate on reveal, Recharts use CSS variable colors, all interactions preserved, no errors</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete UI overhaul with mesh gradient backgrounds, shadcn/ui components throughout, Tokyo Night aesthetic, Motion animations, and Switzer/JetBrains Mono typography across entire finance module</what-built>
  <how-to-verify>
    Full visual audit of Personal Nexus finance module:

    1. **Landing page (/finance):**
       - Background: Subtle purple/cyan mesh gradient (not distracting)
       - BottomNav: Frosted glass effect, primary color on active, tap animations
       - Confirm navigation works smoothly

    2. **Budget list (/finance/budgets):**
       - Cards: Deep muted backgrounds with border glow
       - Stagger animation on page load
       - Hover effects on cards
       - "Create Budget" button uses primary color (indigo/purple)

    3. **Budget creation (/finance/budgets/new):**
       - Form: Card wrapper with frosted background
       - Inputs: shadcn/ui Input components with border-input color
       - Submit button: primary color
       - Mobile: Keyboard pops up correctly (inputMode preserved)

    4. **Budget detail (/finance/budgets/[id]):**
       - Category cards: Muted backgrounds with custom color badges
       - Progress bars: Use primary/accent colors
       - Transaction form: shadcn/ui inputs, primary button
       - Transaction list: Items fade in, readable typography
       - Amount displays: JetBrains Mono font

    5. **Analytics (/finance/analytics):**
       - Charts: Stagger-fade-in animation
       - Chart containers: Frosted muted backgrounds
       - Bar/line colors: Cyan accent (Tokyo Night)
       - Chart text: Muted foreground color
       - BudgetSelector dropdown still works

    6. **Categories (/finance/categories):**
       - Category cards: Muted backgrounds
       - Color picker: Custom colors preserved
       - Create form: shadcn/ui components

    7. **Overall aesthetic:**
       - Typography: Switzer feels distinctive (not generic)
       - Numbers: JetBrains Mono readable and clear
       - Colors: Deep purples, cyan accents (Tokyo Night)
       - Animations: Smooth, not distracting
       - Contrast: All text legible
       - Mobile: Touch targets 44px, no zoom issues

    8. **Performance check:**
       - Animations run at 60fps (no jank on scroll)
       - Gradient background doesn't impact performance
       - Page loads feel fast (no FOUT with fonts)

    Confirm: UI feels memorable, distinctive, polished, NOT generic AI design
  </how-to-verify>
  <resume-signal>Type "approved" if visual design meets goals, or describe specific issues: color contrast problems, animation performance, typography issues, layout breaks, missing polish areas</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] npm run build succeeds
- [ ] All pages render without console errors
- [ ] Mesh gradient background visible but not distracting
- [ ] All forms use shadcn/ui components
- [ ] All animations perform at 60fps
- [ ] Typography (Switzer + JetBrains Mono) applied consistently
- [ ] Tokyo Night colors across all views
- [ ] Mobile functionality preserved (Phase 7 optimizations)
- [ ] User approves final design in checkpoint
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Mesh gradient backgrounds applied
- All forms refactored to shadcn/ui
- BottomNav uses frosted glass design
- Analytics charts animated and styled
- Full Tokyo Night aesthetic across finance module
- No TypeScript errors or performance regressions
- User confirms design is distinctive and memorable
- Phase 8 complete - UI Overhaul successful
  </success_criteria>

<output>
After completion, create `.planning/phases/08-ui-overhaul/08-03-SUMMARY.md`:

# Phase 8 Plan 3: Visual Enhancement Summary

**[Substantive one-liner - final visual polish shipped]**

## Accomplishments

- [Mesh gradient implementation]
- [Form refactoring scope]
- [Navigation polish]
- [Analytics animation details]
- [Overall aesthetic transformation]

## Files Created/Modified

- `app/globals.css` - Mesh gradient background
- `app/finance/budgets/new/page.tsx` - shadcn/ui form components
- `app/finance/budgets/[id]/TransactionForm.tsx` - Input components
- `app/finance/categories/CreateCategoryForm.tsx` - Form refactor
- `app/finance/components/BottomNav.tsx` - Frosted glass navigation
- `app/finance/analytics/AnalyticsCharts.tsx` - Animated charts
- `components/ui/input.tsx` - shadcn/ui Input component

## Decisions Made

[Background gradient approach, animation choices, component decisions, or "None"]

## Issues Encountered

[Performance problems, visual bugs, or "None"]

## Next Phase Readiness

**Phase 8 complete** - Personal Nexus UI transformed:
- Tokyo Night color palette (distinctive purple/cyan)
- Switzer + JetBrains Mono typography (memorable, readable)
- shadcn/ui component system (consistent, themeable)
- Motion animations (polished, performant)
- Mesh gradient backgrounds (atmospheric depth)

Project ready for final polish or new feature development with established design system.
</output>
