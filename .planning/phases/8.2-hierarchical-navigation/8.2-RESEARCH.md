# Phase 8.2: Hierarchical Navigation System - Research

**Researched:** 2026-01-16
**Domain:** Next.js App Router navigation patterns, responsive breadcrumbs, hierarchical navigation UX
**Confidence:** HIGH

<research_summary>
## Summary

Researched modern navigation patterns for Next.js App Router applications with focus on hierarchical breadcrumbs, responsive navigation strategies, and mobile-first UX. The standard approach uses Next.js built-in hooks (`usePathname`, `useRouter`) combined with responsive navigation components and proper accessibility implementation.

Key finding: Don't hand-roll breadcrumb path parsing or navigation state management. Next.js provides `usePathname()` for dynamic breadcrumbs, and browser history API integrates seamlessly with `useRouter()` for back button functionality. Component libraries like Material UI or shadcn/ui provide accessible breadcrumb components, but custom implementations require proper ARIA labeling (`aria-label="Breadcrumbs"`, `aria-current="page"`).

Mobile breadcrumbs require truncation strategies (show last 2 items) or horizontal scrolling patterns. Desktop navigation should use visible sidebar/top nav rather than hamburger menus for better discoverability. Bottom tab bars work well for mobile (you already have this with BottomNav).

**Primary recommendation:** Use Next.js `usePathname()` for dynamic breadcrumbs with custom label mapping, `useRouter().back()` for back buttons with Link fallback, responsive navigation showing sidebar on desktop and bottom tabs on mobile, and proper ARIA landmarks for accessibility.
</research_summary>

<standard_stack>
## Standard Stack

### Core Next.js Navigation Hooks

| Hook/Component | Version | Purpose | Why Standard |
|----------------|---------|---------|--------------|
| `usePathname()` | Next.js 15+ | Access current pathname | Official App Router hook for route-aware UI |
| `useRouter()` | Next.js 15+ | Programmatic navigation | Provides `back()`, `forward()`, `push()`, `replace()` methods |
| `<Link>` | Next.js 15+ | Declarative navigation | Auto-prefetching, client-side transitions, optimal performance |
| `useSearchParams()` | Next.js 15+ | Query parameter access | Official hook for URL search params manipulation |
| `useLinkStatus()` | Next.js 15+ | Navigation pending state | Shows loading indicators during slow transitions |

### Optional Component Libraries

| Library | Version | Purpose | When to Use |
|---------|---------|---------|-------------|
| Material UI | 6.x | Breadcrumbs component | Full design system with accessible breadcrumbs |
| shadcn/ui | Latest | Breadcrumb primitives | Headless UI matching Tokyo Night design |
| HeroUI | Latest | Accessible breadcrumbs | Next.js optimized with router integration |
| Radix UI | Latest | Navigation primitives | Headless, accessible nav components |

### Alternatives Considered

| Instead of | Could Use | Tradeoff |
|------------|-----------|----------|
| Custom breadcrumbs | use-react-router-breadcrumbs (npm) | Library for React Router, not Next.js App Router |
| useRouter().back() | window.history.back() | Browser API works but doesn't integrate with Next.js router state |
| Custom nav state | React Context | Over-engineering for navigation that's in URL already |
| Hamburger menu (desktop) | Visible sidebar/top nav | Hamburger kills discoverability on desktop |

**Installation (if using component library):**
```bash
# shadcn/ui breadcrumb (recommended - matches Tokyo Night)
npx shadcn@latest add breadcrumb

# OR Material UI
npm install @mui/material @emotion/react @emotion/styled

# OR HeroUI
npm install @heroui/react framer-motion
```

**No installation needed for custom implementation** - Next.js hooks are built-in.
</standard_stack>

<architecture_patterns>
## Architecture Patterns

### Recommended Project Structure
```
app/
├── page.tsx                          # Home with module navigation cards
├── layout.tsx                        # Root layout with theme
├── components/
│   ├── navigation/
│   │   ├── Breadcrumbs.tsx          # Dynamic breadcrumb component
│   │   ├── TopAppBar.tsx            # Back button + breadcrumbs + page title
│   │   ├── DesktopNav.tsx           # Sidebar/top nav for lg+ screens
│   │   └── PageHeader.tsx           # Combines TopAppBar + heading
│   └── ui/                          # shadcn/ui components
└── finance/
    ├── layout.tsx                    # Finance module layout (already has BottomNav)
    └── components/
        └── BottomNav.tsx             # Existing mobile bottom tabs
```

### Pattern 1: Dynamic Breadcrumbs with usePathname

**What:** Generate breadcrumb trail dynamically from current pathname with custom labels
**When to use:** All pages below root level (e.g., /finance/wants)
**Example:**
```typescript
// Source: Next.js App Router patterns + community best practices
'use client'
import { usePathname } from 'next/navigation'
import Link from 'next/link'

const breadcrumbLabels: Record<string, string> = {
  '/': 'Home',
  '/finance': 'Finance',
  '/finance/budgets': 'Budgets',
  '/finance/wants': 'Wants Budget',
  '/finance/analytics': 'Analytics',
  '/finance/categories': 'Categories',
}

export function Breadcrumbs() {
  const pathname = usePathname()
  const segments = pathname.split('/').filter(Boolean)

  const breadcrumbs = segments.map((segment, index) => {
    const path = '/' + segments.slice(0, index + 1).join('/')
    const label = breadcrumbLabels[path] || segment
    return { path, label }
  })

  return (
    <nav aria-label="Breadcrumbs">
      <ol className="flex items-center space-x-2">
        <li>
          <Link href="/" className="text-muted-foreground hover:text-foreground">
            Home
          </Link>
        </li>
        {breadcrumbs.map((crumb, index) => (
          <li key={crumb.path} className="flex items-center space-x-2">
            <span className="text-muted-foreground">/</span>
            {index === breadcrumbs.length - 1 ? (
              <span className="font-medium" aria-current="page">
                {crumb.label}
              </span>
            ) : (
              <Link
                href={crumb.path}
                className="text-muted-foreground hover:text-foreground"
              >
                {crumb.label}
              </Link>
            )}
          </li>
        ))}
      </ol>
    </nav>
  )
}
```

### Pattern 2: Back Button with History Fallback

**What:** Use browser history when available, fallback to hierarchical parent
**When to use:** All subpages for navigation convenience
**Example:**
```typescript
// Source: Next.js App Router + browser history integration
'use client'
import { useRouter } from 'next/navigation'
import { ArrowLeft } from 'lucide-react'

export function BackButton({ fallbackHref }: { fallbackHref?: string }) {
  const router = useRouter()

  const handleBack = () => {
    // Try browser history first (user navigated here from within app)
    if (window.history.length > 1) {
      router.back()
    } else if (fallbackHref) {
      // Fallback to hierarchical parent (direct link from external source)
      router.push(fallbackHref)
    }
  }

  return (
    <button
      onClick={handleBack}
      className="flex items-center gap-2 text-muted-foreground hover:text-foreground"
      aria-label="Go back"
    >
      <ArrowLeft className="h-5 w-5" />
      <span className="hidden sm:inline">Back</span>
    </button>
  )
}
```

### Pattern 3: Responsive Navigation (Desktop Sidebar + Mobile Bottom Tabs)

**What:** Show full navigation on desktop (sidebar/top nav), hide on mobile (use bottom tabs)
**When to use:** Module-level navigation (Finance, future: Skincare, Fitness)
**Example:**
```typescript
// components/navigation/DesktopNav.tsx
'use client'
import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { Home, DollarSign, BarChart3, Tags } from 'lucide-react'

const navItems = [
  { href: '/', label: 'Home', icon: Home },
  { href: '/finance', label: 'Finance', icon: DollarSign },
  { href: '/finance/budgets', label: 'Budgets', icon: DollarSign },
  { href: '/finance/wants', label: 'Wants', icon: DollarSign },
  { href: '/finance/analytics', label: 'Analytics', icon: BarChart3 },
  { href: '/finance/categories', label: 'Categories', icon: Tags },
]

export function DesktopNav() {
  const pathname = usePathname()

  return (
    <nav className="hidden lg:flex lg:flex-col lg:w-64 border-r p-4 space-y-2">
      {navItems.map((item) => {
        const Icon = item.icon
        const isActive = pathname === item.href
        return (
          <Link
            key={item.href}
            href={item.href}
            className={`flex items-center gap-3 px-3 py-2 rounded-md ${
              isActive
                ? 'bg-primary text-primary-foreground'
                : 'hover:bg-accent'
            }`}
          >
            <Icon className="h-5 w-5" />
            <span>{item.label}</span>
          </Link>
        )
      })}
    </nav>
  )
}
```

### Pattern 4: Mobile Breadcrumb Truncation

**What:** Show only last 2 items on mobile, full trail on desktop
**When to use:** Deep navigation hierarchies (>3 levels)
**Example:**
```typescript
'use client'
import { usePathname } from 'next/navigation'
import { ChevronRight } from 'lucide-react'

export function MobileBreadcrumbs() {
  const pathname = usePathname()
  const segments = pathname.split('/').filter(Boolean)

  // Show last 2 items on mobile
  const visibleSegments = segments.slice(-2)

  return (
    <nav aria-label="Breadcrumbs" className="lg:hidden">
      <ol className="flex items-center space-x-1 text-sm">
        {segments.length > 2 && (
          <li className="text-muted-foreground">...</li>
        )}
        {visibleSegments.map((segment, index) => (
          <li key={index} className="flex items-center">
            {index > 0 && <ChevronRight className="h-3 w-3 mx-1" />}
            <span className={index === visibleSegments.length - 1 ? 'font-medium' : ''}>
              {breadcrumbLabels[`/${segments.slice(0, segments.indexOf(segment) + 1).join('/')}`] || segment}
            </span>
          </li>
        ))}
      </ol>
    </nav>
  )
}
```

### Anti-Patterns to Avoid

- **Using browser history only:** Direct links bypass history - always provide fallback
- **Hamburger menu on desktop:** Kills navigation discoverability, users forget to check it
- **Breadcrumb as primary navigation:** Breadcrumbs are secondary - keep primary nav visible
- **Client Component for static breadcrumbs:** Use Server Component when labels are static
- **Missing aria-label on nav:** Screen readers need "Breadcrumbs" label for navigation landmark
- **Not truncating mobile breadcrumbs:** Full trail wraps to multiple lines, wastes space
</architecture_patterns>

<dont_hand_roll>
## Don't Hand-Roll

Problems that look simple but have existing solutions:

| Problem | Don't Build | Use Instead | Why |
|---------|-------------|-------------|-----|
| Pathname parsing for breadcrumbs | Custom string splitting logic | `usePathname()` + segment mapping | Next.js hook is optimized, handles edge cases |
| Back button navigation | window.history.back() only | `useRouter().back()` + fallback Link | Integrates with Next.js router state and prefetching |
| Navigation state management | React Context for current page | URL as source of truth | Pathname already available via `usePathname()`, no extra state needed |
| Breadcrumb accessibility | Custom ARIA implementation | W3C ARIA Breadcrumb Pattern | Complex requirements (aria-label, aria-current, ordered list, separators) |
| Responsive nav hiding | Custom media query logic | Tailwind `hidden lg:flex` | Built-in responsive utilities handle all breakpoints |
| Route prefetching | Custom intersection observer | Next.js Link component | Auto-prefetches on viewport entry or hover |
| Scroll restoration | Manual scroll position tracking | Browser handles automatically | Next.js maintains scroll position on back/forward |

**Key insight:** Next.js App Router provides hooks and components specifically designed for navigation. Custom implementations miss optimizations (prefetching, router state integration, scroll restoration) and create maintenance burden. Accessibility for breadcrumbs requires following W3C ARIA patterns precisely - getting it wrong breaks screen readers.
</dont_hand_roll>

<common_pitfalls>
## Common Pitfalls

### Pitfall 1: Client Component Overuse for Navigation
**What goes wrong:** Making entire layouts Client Components for navigation hooks
**Why it happens:** `usePathname()` requires "use client", developers wrap too much
**How to avoid:** Keep navigation components small and client-only, Server Components for page content
**Warning signs:** "use client" at top of layout.tsx, slow page transitions, hydration delays
**Example:**
```typescript
// BAD - entire layout is client component
'use client'
export default function Layout({ children }) {
  const pathname = usePathname()
  // ... lots of server-side content that should be RSC
}

// GOOD - only navigation is client component
export default function Layout({ children }) {
  return (
    <>
      <Breadcrumbs /> {/* Client Component */}
      {children} {/* Server Component */}
    </>
  )
}
```

### Pitfall 2: Breadcrumbs Without ARIA Labeling
**What goes wrong:** Screen readers can't identify navigation structure
**Why it happens:** Missing `aria-label="Breadcrumbs"` and `aria-current="page"`
**How to avoid:** Follow W3C ARIA Breadcrumb Pattern exactly
**Warning signs:** Accessibility audit failures, screen reader testing shows unlabeled navigation
**Required attributes:**
- `<nav aria-label="Breadcrumbs">` on container
- `<ol>` for ordered list structure
- `aria-current="page"` on current page item
- Decorative separators with `aria-hidden="true"` or CSS

### Pitfall 3: Hamburger Menu on Desktop
**What goes wrong:** Users don't discover navigation, forget to check menu
**Why it happens:** "Mobile-first" taken too literally - applying mobile patterns to desktop
**How to avoid:** Show full navigation on desktop (sidebar/top nav), hamburger only for <1024px
**Warning signs:** Low feature discovery in analytics, users complaining they "can't find" features
**Data:** Nielsen Norman Group research shows hamburger menus have lower discoverability

### Pitfall 4: Breaking Browser Back Button
**What goes wrong:** Back button goes to unexpected location or doesn't work
**Why it happens:** Using `router.replace()` instead of `router.push()`, or not respecting history
**How to avoid:** Use `router.push()` for normal navigation, `replace()` only for redirects
**Warning signs:** User confusion, complaints about navigation feeling "broken"
**Best practice:** Test with browser back button explicitly, ensure it works as expected

### Pitfall 5: Mobile Breadcrumb Wrapping
**What goes wrong:** Breadcrumbs wrap to 3+ lines on mobile, obscure content
**Why it happens:** Showing full trail without truncation strategy
**How to avoid:** Truncate to last 2 items on mobile, or use horizontal scroll with indicators
**Warning signs:** Mobile breadcrumbs taking >20% of screen height
**Mobile UX rule:** Touch targets 44×44px minimum, breadcrumbs should be <2 lines

### Pitfall 6: Not Providing Fallback for Back Button
**What goes wrong:** Back button doesn't work when user navigates via direct link
**Why it happens:** Relying only on `window.history.back()` without fallback
**How to avoid:** Check history length, provide hierarchical parent Link as fallback
**Warning signs:** Back button does nothing on fresh page loads from external links
**Pattern:**
```typescript
const handleBack = () => {
  if (window.history.length > 1) {
    router.back() // User navigated here from within app
  } else {
    router.push(fallbackHref) // Direct link - go to parent
  }
}
```

### Pitfall 7: Performance Issues from Navigation Re-renders
**What goes wrong:** Every navigation triggers expensive re-renders
**Why it happens:** Not leveraging Link prefetching, not using layout.tsx for shared UI
**How to avoid:** Move persistent UI (nav, header) to layout.tsx, use Link for prefetching
**Warning signs:** Slow page transitions, layout "flashing" on navigation
**Next.js optimization:** Layout.tsx content persists across navigation, only page.tsx re-renders
</common_pitfalls>

<code_examples>
## Code Examples

Verified patterns from official sources:

### Complete Breadcrumb Component with Accessibility
```typescript
// Source: W3C ARIA Breadcrumb Pattern + Next.js App Router
'use client'
import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { ChevronRight } from 'lucide-react'

const breadcrumbLabels: Record<string, string> = {
  '/': 'Home',
  '/finance': 'Finance',
  '/finance/budgets': 'Budgets',
  '/finance/wants': 'Wants Budget',
  '/finance/analytics': 'Analytics',
  '/finance/categories': 'Categories',
}

export function Breadcrumbs() {
  const pathname = usePathname()

  // Don't show breadcrumbs on home page
  if (pathname === '/') return null

  const segments = pathname.split('/').filter(Boolean)

  return (
    <nav aria-label="Breadcrumbs" className="flex items-center space-x-2 text-sm">
      <ol className="flex items-center space-x-2">
        {/* Home link */}
        <li>
          <Link
            href="/"
            className="text-muted-foreground hover:text-foreground transition-colors"
          >
            Home
          </Link>
        </li>

        {/* Breadcrumb trail */}
        {segments.map((segment, index) => {
          const path = '/' + segments.slice(0, index + 1).join('/')
          const label = breadcrumbLabels[path] || segment.charAt(0).toUpperCase() + segment.slice(1)
          const isLast = index === segments.length - 1

          return (
            <li key={path} className="flex items-center space-x-2">
              <ChevronRight
                className="h-4 w-4 text-muted-foreground"
                aria-hidden="true"
              />
              {isLast ? (
                <span
                  className="font-medium text-foreground"
                  aria-current="page"
                >
                  {label}
                </span>
              ) : (
                <Link
                  href={path}
                  className="text-muted-foreground hover:text-foreground transition-colors"
                >
                  {label}
                </Link>
              )}
            </li>
          )
        })}
      </ol>
    </nav>
  )
}
```

### TopAppBar with Back Button and Breadcrumbs
```typescript
// components/navigation/TopAppBar.tsx
'use client'
import { useRouter } from 'next/navigation'
import { ArrowLeft } from 'lucide-react'
import { Breadcrumbs } from './Breadcrumbs'

interface TopAppBarProps {
  showBackButton?: boolean
  fallbackHref?: string
  title?: string
}

export function TopAppBar({
  showBackButton = true,
  fallbackHref,
  title
}: TopAppBarProps) {
  const router = useRouter()

  const handleBack = () => {
    if (typeof window !== 'undefined' && window.history.length > 1) {
      router.back()
    } else if (fallbackHref) {
      router.push(fallbackHref)
    }
  }

  return (
    <div className="border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
      <div className="container mx-auto px-4 py-3">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-4">
            {showBackButton && (
              <button
                onClick={handleBack}
                className="flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors"
                aria-label="Go back"
              >
                <ArrowLeft className="h-5 w-5" />
                <span className="hidden sm:inline">Back</span>
              </button>
            )}
            {title && (
              <h1 className="text-xl font-semibold">{title}</h1>
            )}
          </div>
          <Breadcrumbs />
        </div>
      </div>
    </div>
  )
}
```

### Home Page Module Navigation Cards
```typescript
// app/page.tsx
import Link from 'next/link'
import { DollarSign, Sparkles, Activity } from 'lucide-react'

const modules = [
  {
    href: '/finance',
    icon: DollarSign,
    title: 'Finance',
    description: 'Track expenses, budgets, and wants spending',
    available: true,
  },
  {
    href: '/skincare',
    icon: Sparkles,
    title: 'Skincare',
    description: 'Morning and night reminder system',
    available: false, // Coming soon
  },
  {
    href: '/fitness',
    icon: Activity,
    title: 'Fitness',
    description: 'Workout and health tracking',
    available: false, // Coming soon
  },
]

export default function HomePage() {
  return (
    <div className="container mx-auto px-4 py-12">
      <div className="max-w-4xl mx-auto space-y-8">
        <div className="text-center space-y-2">
          <h1 className="text-4xl font-bold">Personal Nexus</h1>
          <p className="text-muted-foreground">
            Modular dashboard for life tracking
          </p>
        </div>

        <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          {modules.map((module) => {
            const Icon = module.icon
            return module.available ? (
              <Link
                key={module.href}
                href={module.href}
                className="group relative overflow-hidden rounded-lg border p-6 hover:border-primary transition-colors"
              >
                <div className="space-y-2">
                  <Icon className="h-10 w-10 text-primary" />
                  <h2 className="text-2xl font-semibold">{module.title}</h2>
                  <p className="text-sm text-muted-foreground">
                    {module.description}
                  </p>
                </div>
                <div className="absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity" />
              </Link>
            ) : (
              <div
                key={module.title}
                className="relative overflow-hidden rounded-lg border p-6 opacity-60"
              >
                <div className="space-y-2">
                  <Icon className="h-10 w-10" />
                  <h2 className="text-2xl font-semibold">{module.title}</h2>
                  <p className="text-sm text-muted-foreground">
                    {module.description}
                  </p>
                  <span className="text-xs text-muted-foreground italic">
                    Coming soon
                  </span>
                </div>
              </div>
            )
          })}
        </div>
      </div>
    </div>
  )
}
```

### Desktop Sidebar Navigation
```typescript
// components/navigation/DesktopNav.tsx
'use client'
import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { Home, DollarSign, Wallet, TrendingUp, Tags } from 'lucide-react'

const navItems = [
  { href: '/', label: 'Home', icon: Home },
  { href: '/finance', label: 'Finance', icon: DollarSign, divider: true },
  { href: '/finance/budgets', label: 'Budgets', icon: Wallet },
  { href: '/finance/wants', label: 'Wants', icon: DollarSign },
  { href: '/finance/analytics', label: 'Analytics', icon: TrendingUp },
  { href: '/finance/categories', label: 'Categories', icon: Tags },
]

export function DesktopNav() {
  const pathname = usePathname()

  return (
    <aside className="hidden lg:flex lg:flex-col w-64 border-r bg-background/95 backdrop-blur">
      <nav className="flex-1 p-4 space-y-1">
        {navItems.map((item) => {
          const Icon = item.icon
          const isActive = pathname === item.href

          return (
            <div key={item.href}>
              {item.divider && <div className="h-px bg-border my-2" />}
              <Link
                href={item.href}
                className={`flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${
                  isActive
                    ? 'bg-primary text-primary-foreground font-medium'
                    : 'text-muted-foreground hover:bg-accent hover:text-foreground'
                }`}
                aria-current={isActive ? 'page' : undefined}
              >
                <Icon className="h-5 w-5 flex-shrink-0" />
                <span>{item.label}</span>
              </Link>
            </div>
          )
        })}
      </nav>
    </aside>
  )
}
```
</code_examples>

<sota_updates>
## State of the Art (2024-2026)

What's changed recently in Next.js navigation:

| Old Approach | Current Approach | When Changed | Impact |
|--------------|------------------|--------------|--------|
| next/router (Pages Router) | next/navigation (App Router) | Next.js 13+ (2023) | New hooks: usePathname, useRouter with different API |
| getServerSideProps for nav state | Server Components + usePathname | Next.js 13+ | Navigation state from URL, no prop drilling |
| Custom breadcrumb libraries | Built-in usePathname() | Next.js 13+ | No library needed, path segments available |
| Client-only navigation | Server + Client hybrid | Next.js 13+ | Better performance, SEO-friendly |
| router.events for transitions | useLinkStatus() hook | Next.js 15+ (2024) | Official loading state during navigation |

**New tools/patterns to consider:**
- **Parallel Routes (@breadcrumbs):** Advanced pattern for accessing route parameters in breadcrumbs
- **useLinkStatus():** Official hook for showing loading indicators during navigation on slow networks
- **Server Components for layouts:** Keep nav components server-rendered when possible
- **Tailwind responsive utilities:** `hidden lg:flex` pattern for responsive navigation (cleaner than media queries)

**Deprecated/outdated:**
- **next/router:** Use next/navigation for App Router
- **router.events:** Not available in App Router, use useLinkStatus instead
- **Breadcrumb libraries:** Most don't support App Router properly yet, custom implementation better
- **Hamburger-only navigation:** Bad UX on desktop, use visible nav + mobile bottom tabs pattern
</sota_updates>

<open_questions>
## Open Questions

Things that couldn't be fully resolved:

1. **shadcn/ui breadcrumb component compatibility**
   - What we know: shadcn/ui has breadcrumb component, likely App Router compatible
   - What's unclear: Whether it requires customization for dynamic label mapping
   - Recommendation: Install and test during implementation, fallback to custom if issues

2. **Optimal mobile breadcrumb truncation point**
   - What we know: Nielsen Norman Group recommends truncation, last 2 items common
   - What's unclear: Whether users prefer horizontal scroll vs truncation for Personal Nexus
   - Recommendation: Start with last 2 items truncation, A/B test with horizontal scroll if user feedback suggests

3. **Desktop navigation: sidebar vs top horizontal**
   - What we know: Both work for 5-10 items, sidebar better for scanning
   - What's unclear: Which fits Tokyo Night aesthetic better for Personal Nexus
   - Recommendation: Try sidebar first (vertical space not constrained), top nav if sidebar feels too heavy
</open_questions>

<sources>
## Sources

### Primary (HIGH confidence)
- [Next.js App Router: Linking and Navigating](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating) - Official Next.js navigation docs
- [W3C ARIA Breadcrumb Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/breadcrumb/) - Official ARIA accessibility requirements
- [Nielsen Norman Group: Breadcrumbs](https://www.nngroup.com/articles/breadcrumbs/) - Research-backed UX guidelines
- [Interaction Design Foundation: Mobile Breadcrumbs](https://www.interaction-design.org/literature/article/mobile-breadcrumbs) - Mobile-specific best practices

### Secondary (MEDIUM confidence)
- [Building Dynamic Breadcrumbs in Next.js App Router](https://jeremykreutzbender.com/blog/app-router-dynamic-breadcrumbs) - Implementation patterns verified with Next.js docs
- [Mobile Navigation UX Best Practices 2026](https://www.designstudiouiux.com/blog/mobile-navigation-ux/) - Current year recommendations
- [WCAG Breadcrumb Accessibility Requirements](https://www.boia.org/blog/how-can-i-make-breadcrumbs-accessible-for-people-with-disabilities) - Verified with W3C standards
- [Next.js App Router Common Mistakes](https://upsun.com/blog/avoid-common-mistakes-with-next-js-app-router/) - Performance pitfalls from production use

### Tertiary (LOW confidence - needs validation)
- Component library comparisons (Material UI, HeroUI, etc.) - Install and test during implementation to verify claims
</sources>

<metadata>
## Metadata

**Research scope:**
- Core technology: Next.js 15 App Router navigation hooks
- Ecosystem: Breadcrumb patterns, responsive nav strategies, ARIA requirements
- Patterns: Dynamic breadcrumbs, back button logic, mobile truncation, desktop nav
- Pitfalls: Client component overuse, accessibility gaps, hamburger menu misuse, history bugs

**Confidence breakdown:**
- Standard stack: HIGH - Official Next.js hooks, well-documented
- Architecture: HIGH - Patterns from Next.js docs + W3C standards
- Pitfalls: HIGH - Documented in multiple sources, verified with UX research
- Code examples: HIGH - Based on official Next.js patterns + W3C ARIA examples

**Research date:** 2026-01-16
**Valid until:** 2026-02-16 (30 days - Next.js ecosystem stable)

</metadata>

---

*Phase: 8.2-hierarchical-navigation*
*Research completed: 2026-01-16*
*Ready for planning: yes*
